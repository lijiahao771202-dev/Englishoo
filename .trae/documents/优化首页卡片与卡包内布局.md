## 目标
- 提升首页“卡包列表”与“卡包内页”的响应式与可用性，统一液态玻璃风格，减少布局抖动并提升滚动性能。
- 严格样式隔离，逐步替换全局工具类为模块化样式或原子类组合。

## 框架与现状
- 技术栈：React + TypeScript + Vite + Tailwind（`tailwind.config.js` 未启用插件）
- 首页网格：`src/components/DeckList.tsx:226` 使用固定断点列数（2/3/4/5）
- 卡包内页：`src/components/DeckDetail.tsx:316` 行为入口为 `grid-cols-1 md:grid-cols-3`；列表为纵向 `divide-y`
- 全局玻璃工具类：`src/index.css:84` 的 `.glass-panel/.glass-button/.liquid-glass`

## 首页优化（DeckList）
- 改为自适应栅格：用 CSS Grid 的 `auto-fit/minmax` 实现更流体的列数（示例：`grid grid-cols-[repeat(auto-fit,_minmax(220px,_1fr))] gap-6`），确保移动优先与断点平滑过渡。[参考 1][参考 2]
- 抽取卡片组件：从 `DeckList` 中提取复用的 `DeckCard`，封装图标、标题、计数与3D交互，使用 CSS Modules 进行样式隔离（保留 Tailwind 原子类）。
- 容器与间距：为首页主容器增加 `max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8`，在小屏收紧 `gap` 与 `aspect-ratio`。
- 液态玻璃统一：在卡片外层统一使用 `.liquid-glass` 或等效的模块化样式；控制投影与边框避免过度高光。

## 卡包内页优化（DeckDetail）
- 行为入口栅格：将 `grid-cols-1 md:grid-cols-3` 改为自适应 `auto-fit/minmax(220px,1fr)`，保证不同容器宽度下均匀分布。[参考 2]
- 头部与搜索吸顶：为头部与“搜索+Tab”区增加 `sticky top-0 z-30` 与半透明玻璃背景，移动端更易操作。
- 列表虚拟化：用 `@tanstack/react-virtual` 替换当前 `IntersectionObserver` 的分页增量（`displayLimit`），显著减少 DOM 体量并提升滚动流畅度。[参考 3]
- 可访问性与语义：将列表结构调整为 `ul/li` 并补充 `aria-label`，按钮加 `aria-pressed`/`aria-expanded`。
- 预览模态：统一最大宽度与内边距，移动端可全屏显示；优化关闭区域命中与可滚动性。

## 样式隔离策略
- 渐进替换：保留 Tailwind 原子类，逐步将 `.glass-panel/.glass-button` 的复合样式迁移到局部 CSS Modules（例如 `Glass.module.css`），各组件通过 `import styles` 引用，避免全局命名污染。
- 变量承接：保留 `HSL` 主题变量与 `SVG filter`（液态玻璃），但仅在组件内部使用模块化类名进行组合。

## 响应式与容器查询
- 若继续使用 Tailwind v3：引入官方容器查询插件 `@tailwindcss/container-queries`，为首页卡片与内页面板添加 `@container` 修饰，依据容器宽度微调排版。[参考 4]
- 若升级至 Tailwind v4：使用内置容器查询功能，去掉插件。

## 性能与微交互
- 动画节制：保留 `framer-motion` 的微交互，关闭不必要的 `layout` 动画以避免重排抖动。
- 资源优化：图片背景保持 `fixed`，但在移动端改为较低模糊或关闭固定背景以减少绘制压力。

## 验证方案
- 视口覆盖：在 360px/768px/1024px/1280px/1536px 下检查卡片列数、间距与文字截断。
- 列表性能：导入含 2k+ 单词的卡包，评估滚动 FPS 与内存占用；对比虚拟化前后。
- 可访问性：使用键盘导航与屏幕阅读器检查焦点顺序与语义标签。

## 代码变更范围（不立即执行）
- `src/components/DeckList.tsx`：主页网格与卡片组件化
- 新增 `src/components/DeckCard.tsx` 与 `DeckCard.module.css`
- `src/components/DeckDetail.tsx`：行为区栅格、吸顶头部与列表虚拟化接入
- 新增 `src/styles/Glass.module.css`（或按组件拆分）
- `tailwind.config.js`：如使用 v3，增加 `@tailwindcss/container-queries` 插件

## 参考
- [参考 1] Tailwind 讨论：`grid-cols-[repeat(auto-fit,_minmax(...))]` 用法（GitHub Discussions）https://github.com/tailwindlabs/tailwindcss/discussions/5541
- [参考 2] 教程：Tailwind 中使用 auto-fit/auto-fill 响应栅格（2025）https://stevekinney.com/courses/tailwind/grid-auto-fit-and-auto-fill-patterns
- [参考 3] 虚拟列表对比与推荐（TanStack Virtualizer）https://github.com/TanStack/virtual/discussions/459
- [参考 4] 容器查询插件与 v4 说明（Tailwind 官方）https://github.com/tailwindlabs/tailwindcss-container-queries